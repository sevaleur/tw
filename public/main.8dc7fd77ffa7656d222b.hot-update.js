/*! For license information please see main.8dc7fd77ffa7656d222b.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatetraewarren("main",{"./app/components/Canvas/Controller/pages/Home/CircleElement/index.js":(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});var s=i("./node_modules/three/build/three.module.js"),a=i("./node_modules/gsap/index.js"),h=i("./app/shaders/vertex.glsl");Object(function(){var e=new Error("Cannot find module 'shaders/hover/fragment.glsl'");throw e.code="MODULE_NOT_FOUND",e}());class n{constructor({element:e,index:t,link:i,displacement:s,template:a,geometry:h,scene:n,screen:r,viewport:l}){this.element=e,this.index=t,this.link=i,this.disp=s,this.template=a,this.geo=h,this.scene=n,this.screen=r,this.viewport=l,this.animations={show:!1,time:0},this.createMaterial(),this.createTexture(),this.createMesh(),this.createAnimations(),this.createBounds(),this.addEventListeners()}createMaterial(){this.material=new s.ShaderMaterial({vertexShader:h.default,fragmentShader:Object(function(){var e=new Error("Cannot find module 'shaders/hover/fragment.glsl'");throw e.code="MODULE_NOT_FOUND",e}()),uniforms:{tMap:{value:null},tHover:{value:null},tDisplacement:{value:this.disp},uAlpha:{value:0},uState:{value:0},uTime:{value:0},uLeaveState:{value:0},uWidth:{value:.1},uRadius:{value:.3},uImageSize:{value:[0,0]},uPlaneSize:{value:[0,0]},uViewportSize:{value:[this.viewport.width,this.viewport.height]}},transparent:!0})}createTexture(){let e=this.element.getAttribute("data-src"),t=this.element.getAttribute("data-hover");this.texture=window.IMAGE_TEXTURES[e],this.texture2=window.IMAGE_TEXTURES[t],this.material.uniforms.tMap.value=this.texture,this.material.uniforms.tHover.value=this.texture2,this.material.uniforms.uImageSize.value=[this.texture.source.data.naturalWidth,this.texture.source.data.naturalHeight]}createMesh(){this.plane=new s.Mesh(this.geo,this.material),this.scene.add(this.plane)}createBounds(){this.bounds=this.element.getBoundingClientRect(),this.updateScale(),this.updateX(),this.updateY(),this.plane.material.uniforms.uPlaneSize.value=[this.plane.scale.x,this.plane.scale.y]}createAnimations(){this.onAlphaChange=a.default.fromTo(this.plane.material.uniforms.uAlpha,{value:0},{value:1,duration:1,delay:.5,paused:!0}),this.onStateChange=a.default.fromTo(this.plane.material.uniforms.uState,{value:0},{value:.2,duration:1,ease:"power2.inOut",paused:!0})}onMouseEnter(){this.onStateChange.play()}onMouseLeave(){this.onStateChange.reverse()}show(){this.onAlphaChange.play()}hide(){this.material.uniforms.uLeaveState.value=1,this.material.uniforms.uWidth.value=.1,this.material.uniforms.uRadius.value=.12,this.onStateChange.play()}onResize(e){if(e){const{screen:t,viewport:i}=e;t&&(this.screen=t),i&&(this.viewport=i,this.plane.material.uniforms.uViewportSize.value=[this.viewport.width,this.viewport.height])}this.createBounds()}updateScale(){this.plane.scale.x=this.viewport.width*this.bounds.width/this.screen.width,this.plane.scale.y=this.viewport.height*this.bounds.height/this.screen.height,this.plane.material.uniforms.uPlaneSize.value=[this.plane.scale.x,this.plane.scale.y]}updateX(){this.x=this.bounds.left/this.screen.width*this.viewport.width,this.plane.position.x=-this.viewport.width/2+this.plane.scale.x/2+this.x}updateY(){this.y=this.bounds.top/this.screen.height*this.viewport.height,this.plane.position.y=this.viewport.height/2-this.plane.scale.y/2-this.y}update(){this.bounds&&(this.animations.time+=.005,this.plane.material.uniforms.uTime.value=this.animations.time,this.updateScale(),this.updateX(),this.updateY())}addEventListeners(){this.link.addEventListener("mouseenter",this.onMouseEnter.bind(this)),this.link.addEventListener("mouseleave",this.onMouseLeave.bind(this))}removeEventListeners(){this.link.removeEventListener("mouseenter",this.onMouseEnter),this.link.removeEventListener("mouseleave",this.onMouseLeave)}}},"./app/components/Canvas/Controller/pages/Work/Element/index.js":(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});var s=i("./node_modules/three/build/three.module.js"),a=i("./node_modules/gsap/index.js"),h=i("./app/shaders/vertex.glsl");Object(function(){var e=new Error("Cannot find module 'shaders/hover/fragment.glsl'");throw e.code="MODULE_NOT_FOUND",e}());class n{constructor({element:e,index:t,link:i,displacement:s,template:a,geometry:h,scene:n,screen:r,viewport:l}){this.element=e,this.index=t,this.link=i,this.disp=s,this.template=a,this.geo=h,this.scene=n,this.screen=r,this.viewport=l,this.animations={show:!1,time:0},this.createMaterial(),this.createTexture(),this.createMesh(),this.createAnimations(),this.createBounds(),this.addEventListeners()}createMaterial(){this.material=new s.ShaderMaterial({vertexShader:h.default,fragmentShader:Object(function(){var e=new Error("Cannot find module 'shaders/hover/fragment.glsl'");throw e.code="MODULE_NOT_FOUND",e}()),uniforms:{tMap:{value:null},tHover:{value:null},tDisplacement:{value:this.disp},uAlpha:{value:0},uState:{value:0},uTime:{value:0},uWidth:{value:.1},uRadius:{value:.3},uLeaveState:{value:0},uImageSize:{value:[0,0]},uPlaneSize:{value:[0,0]},uViewportSize:{value:[this.viewport.width,this.viewport.height]}},transparent:!0})}createTexture(){let e=this.element.getAttribute("data-src"),t=this.element.getAttribute("data-hover");this.texture=window.IMAGE_TEXTURES[e],this.texture2=window.IMAGE_TEXTURES[t],this.material.uniforms.tMap.value=this.texture,this.material.uniforms.tHover.value=this.texture2,this.material.uniforms.uImageSize.value=[this.texture.source.data.naturalWidth,this.texture.source.data.naturalHeight]}createMesh(){this.plane=new s.Mesh(this.geo,this.material),this.scene.add(this.plane)}createBounds(){this.bounds=this.element.getBoundingClientRect(),this.updateScale(),this.updateX(),this.updateY(),this.plane.material.uniforms.uPlaneSize.value=[this.plane.scale.x,this.plane.scale.y]}createAnimations(){this.onAlphaChange=a.default.fromTo(this.material.uniforms.uAlpha,{value:0},{value:1,delay:.5,paused:!0}),this.onStateChange=a.default.fromTo(this.material.uniforms.uState,{value:0},{value:.2,duration:1,ease:"power2.inOut",paused:!0}),this.onShow=a.default.fromTo(this.element,{scale:0},{scale:1,duration:1,delay:.2*this.index,ease:"power2.inOut",paused:!0,onComplete:()=>{this.animations.show=!0}})}onMouseEnter(){this.onStateChange.play()}onMouseLeave(){this.onStateChange.reverse()}show(){this.onAlphaChange.play(),this.onShow.play()}hide(){this.material.uniforms.uLeaveState.value=1,this.material.uniforms.uWidth.value=.1,this.material.uniforms.uRadius.value=.12,this.onStateChange.play()}onResize(e){if(e){const{screen:t,viewport:i}=e;t&&(this.screen=t),i&&(this.viewport=i,this.plane.material.uniforms.uViewportSize.value=[this.viewport.width,this.viewport.height])}this.createBounds()}updateScale(){this.plane.scale.x=this.viewport.width*this.bounds.width/this.screen.width,this.plane.scale.y=this.viewport.height*this.bounds.height/this.screen.height,this.plane.material.uniforms.uPlaneSize.value=[this.plane.scale.x,this.plane.scale.y]}updateX(e=0){this.x=(this.bounds.left+e)/this.screen.width*this.viewport.width,this.plane.position.x=-this.viewport.width/2+this.plane.scale.x/2+this.x}updateY(){this.y=this.bounds.top/this.screen.height*this.viewport.height,this.plane.position.y=this.viewport.height/2-this.plane.scale.y/2-this.y}update(e,t){this.bounds&&(this.animations.time+=.005,this.plane.material.uniforms.uTime.value=this.animations.time,this.animations.show||this.createBounds(),this.updateScale(),this.updateX(e),this.updateY())}addEventListeners(){this.link.addEventListener("mouseenter",this.onMouseEnter.bind(this)),this.link.addEventListener("mouseleave",this.onMouseLeave.bind(this))}}}},(function(e){e.h=()=>"8d503318e186bd09842e"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNQyxFQUFHdkQsS0FBSzhDLE1BQU1RLE1BQU1FLEVBQ3hGLENBRUFKLE9BQUFBLENBQVErQixFQUFRLEdBRWRuRixLQUFLdUQsR0FBTXZELEtBQUtpRCxPQUFPdUIsS0FBT1csR0FBV25GLEtBQUtGLE9BQU9rQyxNQUFTaEMsS0FBS0QsU0FBU2lDLE1BQzVFaEMsS0FBSzhDLE1BQU0yQixTQUFTbEIsR0FBTXZELEtBQUtELFNBQVNpQyxNQUFRLEVBQU1oQyxLQUFLOEMsTUFBTVEsTUFBTUMsRUFBSSxFQUFLdkQsS0FBS3VELENBQ3ZGLENBRUFGLE9BQUFBLEdBRUVyRCxLQUFLd0QsRUFBS3hELEtBQUtpRCxPQUFPeUIsSUFBTTFFLEtBQUtGLE9BQU9tQyxPQUFVakMsS0FBS0QsU0FBU2tDLE9BQ2hFakMsS0FBSzhDLE1BQU0yQixTQUFTakIsRUFBS3hELEtBQUtELFNBQVNrQyxPQUFTLEVBQU1qQyxLQUFLOEMsTUFBTVEsTUFBTUUsRUFBSSxFQUFLeEQsS0FBS3dELENBQ3ZGLENBRUFtQixNQUFBQSxDQUFPUSxFQUFTQyxHQUVWcEYsS0FBS2lELFNBRVRqRCxLQUFLRyxXQUFXRSxNQUFRLEtBRXhCTCxLQUFLOEMsTUFBTWxDLFNBQVNNLFNBQVNPLE1BQU1MLE1BQVFwQixLQUFLRyxXQUFXRSxLQUV2REwsS0FBS0csV0FBV0MsTUFFbEJKLEtBQUtVLGVBR1BWLEtBQUttRCxjQUNMbkQsS0FBS29ELFFBQVErQixHQUNibkYsS0FBS3FELFVBQ1AsQ0FFQTFDLGlCQUFBQSxHQUVFWCxLQUFLUCxLQUFLbUYsaUJBQWlCLGFBQWM1RSxLQUFLaUUsYUFBYVksS0FBSzdFLE9BQ2hFQSxLQUFLUCxLQUFLbUYsaUJBQWlCLGFBQWM1RSxLQUFLbUUsYUFBYVUsS0FBSzdFLE1BQ2xFLGtCQzlPRnFGLEVBQW9CQyxFQUFJLElBQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmFld2FycmVuLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL0NvbnRyb2xsZXIvcGFnZXMvSG9tZS9DaXJjbGVFbGVtZW50L2luZGV4LmpzIiwid2VicGFjazovL3RyYWV3YXJyZW4vLi9hcHAvY29tcG9uZW50cy9DYW52YXMvQ29udHJvbGxlci9wYWdlcy9Xb3JrL0VsZW1lbnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdHJhZXdhcnJlbi93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2hhZGVyTWF0ZXJpYWwsIE1lc2ggfSBmcm9tICd0aHJlZSdcbmltcG9ydCBnc2FwIGZyb20gJ2dzYXAnXG5cbmltcG9ydCB2ZXJ0ZXggZnJvbSAnc2hhZGVycy92ZXJ0ZXguZ2xzbCdcbmltcG9ydCBmcmFnbWVudCBmcm9tICdzaGFkZXJzL2hvdmVyL2ZyYWdtZW50Lmdsc2wnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENpcmNsZUVsZW1lbnRcbntcbiAgY29uc3RydWN0b3IoeyBlbGVtZW50LCBpbmRleCwgbGluaywgZGlzcGxhY2VtZW50LCB0ZW1wbGF0ZSwgZ2VvbWV0cnksIHNjZW5lLCBzY3JlZW4sIHZpZXdwb3J0IH0pXG4gIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50IFxuICAgIHRoaXMuaW5kZXggPSBpbmRleFxuICAgIHRoaXMubGluayA9IGxpbmtcbiAgICB0aGlzLmRpc3AgPSBkaXNwbGFjZW1lbnRcbiAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGUgXG4gICAgdGhpcy5nZW8gPSBnZW9tZXRyeSBcbiAgICB0aGlzLnNjZW5lID0gc2NlbmUgXG4gICAgdGhpcy5zY3JlZW4gPSBzY3JlZW4gXG4gICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0XG5cbiAgICB0aGlzLmFuaW1hdGlvbnMgPSB7XG4gICAgICBzaG93OiBmYWxzZSwgXG4gICAgICB0aW1lOiAwLFxuICAgIH1cblxuICAgIHRoaXMuY3JlYXRlTWF0ZXJpYWwoKVxuICAgIHRoaXMuY3JlYXRlVGV4dHVyZSgpXG4gICAgdGhpcy5jcmVhdGVNZXNoKClcbiAgICB0aGlzLmNyZWF0ZUFuaW1hdGlvbnMoKVxuICAgIHRoaXMuY3JlYXRlQm91bmRzKClcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKClcbiAgfVxuXG4gIGNyZWF0ZU1hdGVyaWFsKClcbiAge1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgU2hhZGVyTWF0ZXJpYWwoXG4gICAgICB7XG4gICAgICAgIHZlcnRleFNoYWRlcjogdmVydGV4LCBcbiAgICAgICAgZnJhZ21lbnRTaGFkZXI6IGZyYWdtZW50LCBcbiAgICAgICAgdW5pZm9ybXM6IHtcbiAgICAgICAgICB0TWFwOiB7IHZhbHVlOiBudWxsfSwgXG4gICAgICAgICAgdEhvdmVyOiB7IHZhbHVlOiBudWxsIH0sXG4gICAgICAgICAgdERpc3BsYWNlbWVudDogeyB2YWx1ZTogdGhpcy5kaXNwIH0sXG4gICAgICAgICAgdUFscGhhOiB7IHZhbHVlOiAwLjAgfSwgXG4gICAgICAgICAgdVN0YXRlOiB7IHZhbHVlOiAwLjB9LFxuICAgICAgICAgIHVUaW1lOiB7IHZhbHVlOiAwLjAgfSxcbiAgICAgICAgICB1TGVhdmVTdGF0ZTogeyB2YWx1ZTogMC4wIH0sXG4gICAgICAgICAgdVdpZHRoOiB7IHZhbHVlOiAwLjEgfSwgXG4gICAgICAgICAgdVJhZGl1czogeyB2YWx1ZTogMC4zIH0sXG4gICAgICAgICAgdUltYWdlU2l6ZTogeyB2YWx1ZTogWyAwLjAsIDAuMCBdIH0sIFxuICAgICAgICAgIHVQbGFuZVNpemU6IHsgdmFsdWU6IFsgMC4wLCAwLjAgXSB9LCBcbiAgICAgICAgICB1Vmlld3BvcnRTaXplOiB7IHZhbHVlOiBbIHRoaXMudmlld3BvcnQud2lkdGgsIHRoaXMudmlld3BvcnQuaGVpZ2h0IF0gfVxuICAgICAgICB9LFxuICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSBcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBjcmVhdGVUZXh0dXJlKClcbiAge1xuICAgIGxldCBzcmMgPSB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpXG4gICAgbGV0IGhvdmVyU3JjID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1ob3ZlcicpXG5cbiAgICB0aGlzLnRleHR1cmUgPSB3aW5kb3cuSU1BR0VfVEVYVFVSRVNbc3JjXVxuICAgIHRoaXMudGV4dHVyZTIgPSB3aW5kb3cuSU1BR0VfVEVYVFVSRVNbaG92ZXJTcmNdXG5cbiAgICB0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLnRNYXAudmFsdWUgPSB0aGlzLnRleHR1cmUgXG4gICAgdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy50SG92ZXIudmFsdWUgPSB0aGlzLnRleHR1cmUyXG4gICAgXG4gICAgdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy51SW1hZ2VTaXplLnZhbHVlID0gW1xuICAgICAgdGhpcy50ZXh0dXJlLnNvdXJjZS5kYXRhLm5hdHVyYWxXaWR0aCxcbiAgICAgIHRoaXMudGV4dHVyZS5zb3VyY2UuZGF0YS5uYXR1cmFsSGVpZ2h0XG4gICAgXVxuICB9XG5cbiAgY3JlYXRlTWVzaCgpXG4gIHtcbiAgICB0aGlzLnBsYW5lID0gbmV3IE1lc2goXG4gICAgICB0aGlzLmdlbywgXG4gICAgICB0aGlzLm1hdGVyaWFsXG4gICAgKVxuICAgIFxuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpXG4gIH1cblxuICBjcmVhdGVCb3VuZHMoKVxuICB7XG4gICAgdGhpcy5ib3VuZHMgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICAgIHRoaXMudXBkYXRlU2NhbGUoKVxuICAgIHRoaXMudXBkYXRlWCgpXG4gICAgdGhpcy51cGRhdGVZKClcblxuICAgIHRoaXMucGxhbmUubWF0ZXJpYWwudW5pZm9ybXMudVBsYW5lU2l6ZS52YWx1ZSA9IFt0aGlzLnBsYW5lLnNjYWxlLngsIHRoaXMucGxhbmUuc2NhbGUueV1cbiAgfVxuXG4gIGNyZWF0ZUFuaW1hdGlvbnMoKVxuICB7XG4gICAgdGhpcy5vbkFscGhhQ2hhbmdlID0gZ3NhcC5mcm9tVG8oXG4gICAgICB0aGlzLnBsYW5lLm1hdGVyaWFsLnVuaWZvcm1zLnVBbHBoYSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDEuMCxcbiAgICAgICAgZHVyYXRpb246IDEuMCxcbiAgICAgICAgZGVsYXk6IDAuNSxcbiAgICAgICAgcGF1c2VkOiB0cnVlXG4gICAgICB9XG4gICAgKVxuXG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlID0gZ3NhcC5mcm9tVG8oXG4gICAgICB0aGlzLnBsYW5lLm1hdGVyaWFsLnVuaWZvcm1zLnVTdGF0ZSwgXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLjAsIFxuICAgICAgfSwgXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLjIsIFxuICAgICAgICBkdXJhdGlvbjogMS4wLCBcbiAgICAgICAgZWFzZTogJ3Bvd2VyMi5pbk91dCcsIFxuICAgICAgICBwYXVzZWQ6IHRydWVcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICAgIC8qXG4gICAgQU5JTUFUSU9OUy5cbiAgKi9cblxuICBvbk1vdXNlRW50ZXIoKVxuICB7XG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlLnBsYXkoKVxuICB9XG5cbiAgb25Nb3VzZUxlYXZlKClcbiAge1xuICAgIHRoaXMub25TdGF0ZUNoYW5nZS5yZXZlcnNlKClcbiAgfVxuXG4gIHNob3coKVxuICB7XG4gICAgdGhpcy5vbkFscGhhQ2hhbmdlLnBsYXkoKVxuICB9XG5cbiAgaGlkZSgpXG4gIHtcbiAgICB0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLnVMZWF2ZVN0YXRlLnZhbHVlID0gMS4wXG4gICAgdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy51V2lkdGgudmFsdWUgPSAuMVxuICAgIHRoaXMubWF0ZXJpYWwudW5pZm9ybXMudVJhZGl1cy52YWx1ZSA9IDAuMTJcblxuICAgIHRoaXMub25TdGF0ZUNoYW5nZS5wbGF5KClcbiAgfVxuXG4gICAvKlxuICAgIEVWRU5UUy5cbiAgKi9cblxuICBvblJlc2l6ZShzaXplcylcbiAge1xuICAgIGlmKHNpemVzKVxuICAgIHtcbiAgICAgIGNvbnN0IHsgc2NyZWVuLCB2aWV3cG9ydCB9ID0gc2l6ZXNcblxuICAgICAgaWYoc2NyZWVuKSB0aGlzLnNjcmVlbiA9IHNjcmVlblxuICAgICAgaWYodmlld3BvcnQpIHtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0XG5cbiAgICAgICAgdGhpcy5wbGFuZS5tYXRlcmlhbC51bmlmb3Jtcy51Vmlld3BvcnRTaXplLnZhbHVlID0gW3RoaXMudmlld3BvcnQud2lkdGgsIHRoaXMudmlld3BvcnQuaGVpZ2h0XVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY3JlYXRlQm91bmRzKClcbiAgfVxuXG4gIC8qXG4gIFVQREFURS5cbiAgKi9cblxuICB1cGRhdGVTY2FsZSgpXG4gIHtcbiAgICB0aGlzLnBsYW5lLnNjYWxlLnggPSB0aGlzLnZpZXdwb3J0LndpZHRoICogdGhpcy5ib3VuZHMud2lkdGggLyB0aGlzLnNjcmVlbi53aWR0aFxuICAgIHRoaXMucGxhbmUuc2NhbGUueSA9IHRoaXMudmlld3BvcnQuaGVpZ2h0ICogdGhpcy5ib3VuZHMuaGVpZ2h0IC8gdGhpcy5zY3JlZW4uaGVpZ2h0XG5cbiAgICB0aGlzLnBsYW5lLm1hdGVyaWFsLnVuaWZvcm1zLnVQbGFuZVNpemUudmFsdWUgPSBbdGhpcy5wbGFuZS5zY2FsZS54LCB0aGlzLnBsYW5lLnNjYWxlLnldXG4gIH1cblxuICB1cGRhdGVYKClcbiAge1xuICAgIHRoaXMueCA9ICh0aGlzLmJvdW5kcy5sZWZ0IC8gdGhpcy5zY3JlZW4ud2lkdGgpICogdGhpcy52aWV3cG9ydC53aWR0aFxuICAgIHRoaXMucGxhbmUucG9zaXRpb24ueCA9ICgtdGhpcy52aWV3cG9ydC53aWR0aCAvIDIpICsgKHRoaXMucGxhbmUuc2NhbGUueCAvIDIpICsgdGhpcy54XG4gIH1cblxuICB1cGRhdGVZKClcbiAge1xuICAgIHRoaXMueSA9ICh0aGlzLmJvdW5kcy50b3AgLyB0aGlzLnNjcmVlbi5oZWlnaHQpICogdGhpcy52aWV3cG9ydC5oZWlnaHRcbiAgICB0aGlzLnBsYW5lLnBvc2l0aW9uLnkgPSAodGhpcy52aWV3cG9ydC5oZWlnaHQgLyAyKSAtICh0aGlzLnBsYW5lLnNjYWxlLnkgLyAyKSAtIHRoaXMueVxuICB9XG5cbiAgdXBkYXRlKClcbiAge1xuICAgIGlmKCF0aGlzLmJvdW5kcykgcmV0dXJuXG5cbiAgICB0aGlzLmFuaW1hdGlvbnMudGltZSArPSAwLjAwNVxuXG4gICAgdGhpcy5wbGFuZS5tYXRlcmlhbC51bmlmb3Jtcy51VGltZS52YWx1ZSA9IHRoaXMuYW5pbWF0aW9ucy50aW1lXG5cbiAgICB0aGlzLnVwZGF0ZVNjYWxlKClcbiAgICB0aGlzLnVwZGF0ZVgoKVxuICAgIHRoaXMudXBkYXRlWSgpXG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVycygpXG4gIHtcbiAgICB0aGlzLmxpbmsuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMub25Nb3VzZUVudGVyLmJpbmQodGhpcykpXG4gICAgdGhpcy5saW5rLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLm9uTW91c2VMZWF2ZS5iaW5kKHRoaXMpKVxuICB9XG5cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKVxuICB7XG4gICAgdGhpcy5saW5rLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLm9uTW91c2VFbnRlcilcbiAgICB0aGlzLmxpbmsucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25Nb3VzZUxlYXZlKVxuICB9XG59IiwiaW1wb3J0IHsgU2hhZGVyTWF0ZXJpYWwsIE1lc2ggfSBmcm9tICd0aHJlZSdcbmltcG9ydCBnc2FwIGZyb20gJ2dzYXAnXG5cbmltcG9ydCB2ZXJ0ZXggZnJvbSAnc2hhZGVycy92ZXJ0ZXguZ2xzbCdcbmltcG9ydCBmcmFnbWVudCBmcm9tICdzaGFkZXJzL2hvdmVyL2ZyYWdtZW50Lmdsc2wnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVsZW1lbnRcbntcbiAgY29uc3RydWN0b3IoeyBlbGVtZW50LCBpbmRleCwgbGluaywgZGlzcGxhY2VtZW50LCB0ZW1wbGF0ZSwgZ2VvbWV0cnksIHNjZW5lLCBzY3JlZW4sIHZpZXdwb3J0IH0pXG4gIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50IFxuICAgIHRoaXMuaW5kZXggPSBpbmRleFxuICAgIHRoaXMubGluayA9IGxpbmtcbiAgICB0aGlzLmRpc3AgPSBkaXNwbGFjZW1lbnRcbiAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGUgXG4gICAgdGhpcy5nZW8gPSBnZW9tZXRyeSBcbiAgICB0aGlzLnNjZW5lID0gc2NlbmUgXG4gICAgdGhpcy5zY3JlZW4gPSBzY3JlZW4gXG4gICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0XG5cbiAgICB0aGlzLmFuaW1hdGlvbnMgPSB7XG4gICAgICBzaG93OiBmYWxzZSwgXG4gICAgICB0aW1lOiAwLFxuICAgIH1cblxuICAgIHRoaXMuY3JlYXRlTWF0ZXJpYWwoKVxuICAgIHRoaXMuY3JlYXRlVGV4dHVyZSgpXG4gICAgdGhpcy5jcmVhdGVNZXNoKClcbiAgICB0aGlzLmNyZWF0ZUFuaW1hdGlvbnMoKVxuICAgIHRoaXMuY3JlYXRlQm91bmRzKClcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKClcbiAgfVxuXG4gIGNyZWF0ZU1hdGVyaWFsKClcbiAge1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgU2hhZGVyTWF0ZXJpYWwoXG4gICAgICB7XG4gICAgICAgIHZlcnRleFNoYWRlcjogdmVydGV4LCBcbiAgICAgICAgZnJhZ21lbnRTaGFkZXI6IGZyYWdtZW50LCBcbiAgICAgICAgdW5pZm9ybXM6IHtcbiAgICAgICAgICB0TWFwOiB7IHZhbHVlOiBudWxsfSwgXG4gICAgICAgICAgdEhvdmVyOiB7IHZhbHVlOiBudWxsIH0sXG4gICAgICAgICAgdERpc3BsYWNlbWVudDogeyB2YWx1ZTogdGhpcy5kaXNwIH0sXG4gICAgICAgICAgdUFscGhhOiB7IHZhbHVlOiAwLjAgfSwgXG4gICAgICAgICAgdVN0YXRlOiB7IHZhbHVlOiAwLjB9LFxuICAgICAgICAgIHVUaW1lOiB7IHZhbHVlOiAwLjAgfSxcbiAgICAgICAgICB1V2lkdGg6IHsgdmFsdWU6IDAuMSB9LCBcbiAgICAgICAgICB1UmFkaXVzOiB7IHZhbHVlOiAwLjMgfSxcbiAgICAgICAgICB1TGVhdmVTdGF0ZTogeyB2YWx1ZTogMC4wIH0sXG4gICAgICAgICAgdUltYWdlU2l6ZTogeyB2YWx1ZTogWyAwLjAsIDAuMCBdIH0sIFxuICAgICAgICAgIHVQbGFuZVNpemU6IHsgdmFsdWU6IFsgMC4wLCAwLjAgXSB9LCBcbiAgICAgICAgICB1Vmlld3BvcnRTaXplOiB7IHZhbHVlOiBbIHRoaXMudmlld3BvcnQud2lkdGgsIHRoaXMudmlld3BvcnQuaGVpZ2h0IF0gfVxuICAgICAgICB9LFxuICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSBcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBjcmVhdGVUZXh0dXJlKClcbiAge1xuICAgIGxldCBzcmMgPSB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpXG4gICAgbGV0IGhvdmVyU3JjID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1ob3ZlcicpXG5cbiAgICB0aGlzLnRleHR1cmUgPSB3aW5kb3cuSU1BR0VfVEVYVFVSRVNbc3JjXVxuICAgIHRoaXMudGV4dHVyZTIgPSB3aW5kb3cuSU1BR0VfVEVYVFVSRVNbaG92ZXJTcmNdXG5cbiAgICB0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLnRNYXAudmFsdWUgPSB0aGlzLnRleHR1cmUgXG4gICAgdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy50SG92ZXIudmFsdWUgPSB0aGlzLnRleHR1cmUyXG4gICAgXG4gICAgdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy51SW1hZ2VTaXplLnZhbHVlID0gW1xuICAgICAgdGhpcy50ZXh0dXJlLnNvdXJjZS5kYXRhLm5hdHVyYWxXaWR0aCxcbiAgICAgIHRoaXMudGV4dHVyZS5zb3VyY2UuZGF0YS5uYXR1cmFsSGVpZ2h0XG4gICAgXVxuICB9XG5cbiAgY3JlYXRlTWVzaCgpXG4gIHtcbiAgICB0aGlzLnBsYW5lID0gbmV3IE1lc2goXG4gICAgICB0aGlzLmdlbywgXG4gICAgICB0aGlzLm1hdGVyaWFsXG4gICAgKVxuICAgIFxuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpXG4gIH1cblxuICBjcmVhdGVCb3VuZHMoKVxuICB7XG4gICAgdGhpcy5ib3VuZHMgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICAgIHRoaXMudXBkYXRlU2NhbGUoKVxuICAgIHRoaXMudXBkYXRlWCgpXG4gICAgdGhpcy51cGRhdGVZKClcblxuICAgIHRoaXMucGxhbmUubWF0ZXJpYWwudW5pZm9ybXMudVBsYW5lU2l6ZS52YWx1ZSA9IFt0aGlzLnBsYW5lLnNjYWxlLngsIHRoaXMucGxhbmUuc2NhbGUueV1cbiAgfVxuXG4gIGNyZWF0ZUFuaW1hdGlvbnMoKVxuICB7XG4gICAgdGhpcy5vbkFscGhhQ2hhbmdlID0gZ3NhcC5mcm9tVG8oXG4gICAgICB0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLnVBbHBoYSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDEuMCxcbiAgICAgICAgZGVsYXk6IDAuNSxcbiAgICAgICAgcGF1c2VkOiB0cnVlXG4gICAgICB9XG4gICAgKVxuXG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlID0gZ3NhcC5mcm9tVG8oXG4gICAgICB0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLnVTdGF0ZSwgXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLjAsIFxuICAgICAgfSwgXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLjIsIFxuICAgICAgICBkdXJhdGlvbjogMS4wLCBcbiAgICAgICAgZWFzZTogJ3Bvd2VyMi5pbk91dCcsIFxuICAgICAgICBwYXVzZWQ6IHRydWVcbiAgICAgIH1cbiAgICApXG5cbiAgICB0aGlzLm9uU2hvdyA9IGdzYXAuZnJvbVRvKFxuICAgICAgdGhpcy5lbGVtZW50LCBcbiAgICAgIHtcbiAgICAgICAgc2NhbGU6IDAuMFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgc2NhbGU6IDEuMCwgXG4gICAgICAgIGR1cmF0aW9uOiAxLjAsIFxuICAgICAgICBkZWxheTogMC4yICogdGhpcy5pbmRleCwgXG4gICAgICAgIGVhc2U6ICdwb3dlcjIuaW5PdXQnLFxuICAgICAgICBwYXVzZWQ6IHRydWUsXG4gICAgICAgIG9uQ29tcGxldGU6ICgpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgdGhpcy5hbmltYXRpb25zLnNob3cgPSB0cnVlIFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgICAvKlxuICAgIEFOSU1BVElPTlMuXG4gICovXG5cbiAgb25Nb3VzZUVudGVyKClcbiAge1xuICAgIHRoaXMub25TdGF0ZUNoYW5nZS5wbGF5KClcbiAgfVxuXG4gIG9uTW91c2VMZWF2ZSgpXG4gIHtcbiAgICB0aGlzLm9uU3RhdGVDaGFuZ2UucmV2ZXJzZSgpXG4gIH1cblxuICBzaG93KClcbiAge1xuICAgIHRoaXMub25BbHBoYUNoYW5nZS5wbGF5KClcbiAgICB0aGlzLm9uU2hvdy5wbGF5KClcbiAgfVxuXG4gIGhpZGUoKVxuICB7XG4gICAgdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy51TGVhdmVTdGF0ZS52YWx1ZSA9IDEuMFxuICAgIHRoaXMubWF0ZXJpYWwudW5pZm9ybXMudVdpZHRoLnZhbHVlID0gLjFcbiAgICB0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLnVSYWRpdXMudmFsdWUgPSAwLjEyXG5cbiAgICB0aGlzLm9uU3RhdGVDaGFuZ2UucGxheSgpXG4gIH1cblxuICAgLypcbiAgICBFVkVOVFMuXG4gICovXG5cbiAgb25SZXNpemUoc2l6ZXMpXG4gIHtcbiAgICBpZihzaXplcylcbiAgICB7XG4gICAgICBjb25zdCB7IHNjcmVlbiwgdmlld3BvcnQgfSA9IHNpemVzXG5cbiAgICAgIGlmKHNjcmVlbikgdGhpcy5zY3JlZW4gPSBzY3JlZW5cbiAgICAgIGlmKHZpZXdwb3J0KSB7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydFxuXG4gICAgICAgIHRoaXMucGxhbmUubWF0ZXJpYWwudW5pZm9ybXMudVZpZXdwb3J0U2l6ZS52YWx1ZSA9IFt0aGlzLnZpZXdwb3J0LndpZHRoLCB0aGlzLnZpZXdwb3J0LmhlaWdodF1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmNyZWF0ZUJvdW5kcygpXG4gIH1cblxuICAvKlxuICBVUERBVEUuXG4gICovXG5cbiAgdXBkYXRlU2NhbGUoKVxuICB7XG4gICAgdGhpcy5wbGFuZS5zY2FsZS54ID0gdGhpcy52aWV3cG9ydC53aWR0aCAqIHRoaXMuYm91bmRzLndpZHRoIC8gdGhpcy5zY3JlZW4ud2lkdGhcbiAgICB0aGlzLnBsYW5lLnNjYWxlLnkgPSB0aGlzLnZpZXdwb3J0LmhlaWdodCAqIHRoaXMuYm91bmRzLmhlaWdodCAvIHRoaXMuc2NyZWVuLmhlaWdodFxuXG4gICAgdGhpcy5wbGFuZS5tYXRlcmlhbC51bmlmb3Jtcy51UGxhbmVTaXplLnZhbHVlID0gW3RoaXMucGxhbmUuc2NhbGUueCwgdGhpcy5wbGFuZS5zY2FsZS55XVxuICB9XG5cbiAgdXBkYXRlWChjdXJyZW50PTApXG4gIHtcbiAgICB0aGlzLnggPSAoKHRoaXMuYm91bmRzLmxlZnQgKyBjdXJyZW50KSAvIHRoaXMuc2NyZWVuLndpZHRoKSAqIHRoaXMudmlld3BvcnQud2lkdGhcbiAgICB0aGlzLnBsYW5lLnBvc2l0aW9uLnggPSAoLXRoaXMudmlld3BvcnQud2lkdGggLyAyKSArICh0aGlzLnBsYW5lLnNjYWxlLnggLyAyKSArIHRoaXMueFxuICB9XG5cbiAgdXBkYXRlWSgpXG4gIHtcbiAgICB0aGlzLnkgPSAodGhpcy5ib3VuZHMudG9wIC8gdGhpcy5zY3JlZW4uaGVpZ2h0KSAqIHRoaXMudmlld3BvcnQuaGVpZ2h0XG4gICAgdGhpcy5wbGFuZS5wb3NpdGlvbi55ID0gKHRoaXMudmlld3BvcnQuaGVpZ2h0IC8gMikgLSAodGhpcy5wbGFuZS5zY2FsZS55IC8gMikgLSB0aGlzLnlcbiAgfVxuXG4gIHVwZGF0ZShjdXJyZW50LCBsYXN0KVxuICB7XG4gICAgaWYoIXRoaXMuYm91bmRzKSByZXR1cm5cblxuICAgIHRoaXMuYW5pbWF0aW9ucy50aW1lICs9IDAuMDA1XG5cbiAgICB0aGlzLnBsYW5lLm1hdGVyaWFsLnVuaWZvcm1zLnVUaW1lLnZhbHVlID0gdGhpcy5hbmltYXRpb25zLnRpbWVcblxuICAgIGlmKCF0aGlzLmFuaW1hdGlvbnMuc2hvdylcbiAgICB7XG4gICAgICB0aGlzLmNyZWF0ZUJvdW5kcygpXG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVTY2FsZSgpXG4gICAgdGhpcy51cGRhdGVYKGN1cnJlbnQpXG4gICAgdGhpcy51cGRhdGVZKClcbiAgfVxuXG4gIGFkZEV2ZW50TGlzdGVuZXJzKClcbiAge1xuICAgIHRoaXMubGluay5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5vbk1vdXNlRW50ZXIuYmluZCh0aGlzKSlcbiAgICB0aGlzLmxpbmsuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25Nb3VzZUxlYXZlLmJpbmQodGhpcykpXG4gIH1cbn0iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCI4ZDUwMzMxOGUxODZiZDA5ODQyZVwiKSJdLCJuYW1lcyI6WyJDaXJjbGVFbGVtZW50IiwiY29uc3RydWN0b3IiLCJlbGVtZW50IiwiaW5kZXgiLCJsaW5rIiwiZGlzcGxhY2VtZW50IiwidGVtcGxhdGUiLCJnZW9tZXRyeSIsInNjZW5lIiwic2NyZWVuIiwidmlld3BvcnQiLCJ0aGlzIiwiZGlzcCIsImdlbyIsImFuaW1hdGlvbnMiLCJzaG93IiwidGltZSIsImNyZWF0ZU1hdGVyaWFsIiwiY3JlYXRlVGV4dHVyZSIsImNyZWF0ZU1lc2giLCJjcmVhdGVBbmltYXRpb25zIiwiY3JlYXRlQm91bmRzIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJtYXRlcmlhbCIsIlNoYWRlck1hdGVyaWFsIiwidmVydGV4U2hhZGVyIiwidmVydGV4IiwiZnJhZ21lbnRTaGFkZXIiLCJmcmFnbWVudCIsInVuaWZvcm1zIiwidE1hcCIsInZhbHVlIiwidEhvdmVyIiwidERpc3BsYWNlbWVudCIsInVBbHBoYSIsInVTdGF0ZSIsInVUaW1lIiwidUxlYXZlU3RhdGUiLCJ1V2lkdGgiLCJ1UmFkaXVzIiwidUltYWdlU2l6ZSIsInVQbGFuZVNpemUiLCJ1Vmlld3BvcnRTaXplIiwid2lkdGgiLCJoZWlnaHQiLCJ0cmFuc3BhcmVudCIsInNyYyIsImdldEF0dHJpYnV0ZSIsImhvdmVyU3JjIiwidGV4dHVyZSIsIndpbmRvdyIsIklNQUdFX1RFWFRVUkVTIiwidGV4dHVyZTIiLCJzb3VyY2UiLCJkYXRhIiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsInBsYW5lIiwiTWVzaCIsImFkZCIsImJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInVwZGF0ZVNjYWxlIiwidXBkYXRlWCIsInVwZGF0ZVkiLCJzY2FsZSIsIngiLCJ5Iiwib25BbHBoYUNoYW5nZSIsImdzYXAiLCJmcm9tVG8iLCJkdXJhdGlvbiIsImRlbGF5IiwicGF1c2VkIiwib25TdGF0ZUNoYW5nZSIsImVhc2UiLCJvbk1vdXNlRW50ZXIiLCJwbGF5Iiwib25Nb3VzZUxlYXZlIiwicmV2ZXJzZSIsImhpZGUiLCJvblJlc2l6ZSIsInNpemVzIiwibGVmdCIsInBvc2l0aW9uIiwidG9wIiwidXBkYXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJFbGVtZW50Iiwib25TaG93Iiwib25Db21wbGV0ZSIsImN1cnJlbnQiLCJsYXN0IiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImgiXSwic291cmNlUm9vdCI6IiJ9